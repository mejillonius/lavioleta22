$(document).ready(function(){
      $(".form_ajax").submit(function(){
            return $(".form-group").removeClass("has-error"),$form=$(this),$.ajax({url:$(this).attr("action"),type:"POST",data:$(this).serialize(),dataType:"json"}).done(function(e){e.err===!1?analizeResponse(e,1,$form):e.err===!0&&analizeResponse(e,2,$form)}).fail(function(e,o){var t=null;analizeResponse(t,3,$form)}),!1})});var responseMsgToString=function(e,o,t){var s="";for(k in e){if(e[k].length>0)for(i=0;i<e[k].length;i++)void 0!=o&&(s+=o),s+=e[k][i],void 0!=t&&(s+=o);console.info(e[k])}return s},responseAddErrortoForm=function(e,o,t,s){if(resetErrortoForm(t),void 0!=e.extra.fields)var n=e.extra.fields;else var n=[];for(var r=e.messages["message-error"],i=0;i<n.length;i++){var a=n[i].includes("[]");1==a&&(console.info("Hay corchetes"),n[i]=n[i].replace("[]",""),console.info(n[i])),console.info($(t).find("#"+n[i]).parent().parent()),$(t).find("#"+n[i]).parent().parent().addClass("has-error");var l='<p class="help-block">'+r[i]+"</p>";$(t).find("#"+n[i]).after(l)}},responseFocusFirstError=function(e,o,t,s){if(void 0!=e.extra.fields){console.info("responseFocusFirstError");var n=e.extra.fields;void 0!=n[0]&&($(t).find("#"+n[0]).focus(),console.info($(t).find("#"+n[0])))}},responseResetForm=function(e,o,t){console.info("responseResetForm"),t[0].reset(),$(".select2combo").select2("val","")},responseRedirecTo=function(e,o,t){console.info("responseRedirecTo"),void 0!=e.extra.callback.url&&window.top.location.replace(e.extra.callback.url)},resetErrortoForm=function(e){$(e).find(".help-block").remove()},showModal=function(e,o,t,s){if(console.info(e),console.info("********"),console.info(t),console.info("********"),void 0!=e.extra.nomodal&&1==e.extra.nomodal)return void 0!=s&&window[s].apply(null,[e,o,t]),!0;""!==o&&void 0!==o||(o=2);var n=responseMsgToString(e.messages,"<p>","</p>"),r="modal"+o;bootbox.dialog({message:n,title:e.extra.title,onEscape:function(){void 0!=s&&window[s].apply(null,[e,o,t])},show:!0,backdrop:!0,closeButton:!0,animate:!0,className:r})},analizeResponse=function(e,o,t){var s="showModal";if(1==o){var n="responseResetForm";void 0!=e.callback&&""!=e.callback&&(n=e.callback),showModal(e,o,t,n)}else 2==o?(responseAddErrortoForm(e,o,t),showModal(e,o,t,"responseFocusFirstError")):3==o&&(console.info("ERROR EN LA LLAMADA"),alert("Se ha producido un error"))};$("#team .team-blocklink > li > a").click(function(){$("#team .team-blocklink li").removeClass("active"),$("#team .team-blocklink li a").removeClass("active"),$(this).addClass("active"),$(this).parent().addClass("active")}),$(".show_more_teams").click(function(){var e=$(this).attr("rel");e="#"+e,console.info(e);var o=$(this).attr("state"),t=$(this).children();"close"==o?(o="open",$(this).css("position","relative"),$(this).css("right","0px"),$(this).css("top","0px"),$(t).removeClass("fa-plus"),$(t).addClass("fa-minus"),$(this).attr("state",o),$(e).css("max-height","2800px"),$(e).css("overflow","visible")):(o="close",$(this).css("position","absolute"),$(this).css("right","20px"),$(this).css("top","170px"),$(t).removeClass("fa-minus"),$(t).addClass("fa-plus"),$(this).attr("state",o),$(e).css("max-height","220px"),$(e).css("overflow","hidden"))}),$(".cat-notices").click(function(){var e=$(this).attr("href");location.replace(e)});var getUrlParameter=function e(o){var t=decodeURIComponent(window.location.search.substring(1)),s=t.split("&"),n,r;for(r=0;r<s.length;r++)if(n=s[r].split("="),n[0]===o)return void 0===n[1]||n[1]};$(".scrollto").click(function(){var e=$(this).attr("scrollto");void 0!=e&&$("html, body").animate({scrollTop:$(e).offset().top},500)});